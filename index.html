<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <!-- Para o layout responsivo em dispositivos móveis -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Avaliação de Perfis</title>

  <!-- CDN do Chart.js para gráfico 2D -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* CSS básico + responsivo */
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 0;
      box-sizing: border-box;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    form {
      max-width: 600px;
      margin: 0 auto 30px auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    label {
      font-weight: bold;
      margin-bottom: 5px;
      display: inline-block;
    }

    select {
      padding: 5px;
      font-size: 1rem;
      width: 100%;
      box-sizing: border-box;
    }

    button {
      width: 200px;
      padding: 10px;
      font-size: 1rem;
      cursor: pointer;
      margin: 0 auto;
      border: none;
      border-radius: 4px;
      background-color: #4CAF50;
      color: #fff;
    }

    button:hover {
      background-color: #45a049;
    }

    #resultado {
      text-align: center;
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 20px;
    }

    /* Container para o gráfico 2D */
    #chartContainer {
      max-width: 600px;
      margin: 0 auto;
    }

    canvas {
      width: 100% !important;
      height: auto !important;
      /* Ajusta o canvas para ficar responsivo */
    }

    /* Responsividade adicional para telas menores */
    @media (max-width: 600px) {
      form {
        width: 90%;
      }

      button {
        width: 100%;
      }

      #chartContainer {
        width: 95%;
      }
    }
  </style>
</head>
<body>
  <h1>Avaliação de Perfis</h1>

  <form id="formAvaliacao">
    <!-- Campos Primário, Secundário, Terciário -->
    <div>
      <label for="primario">Perfil Primário (p):</label>
      <select id="primario" name="primario">
        <option value="1">1. Populares e Vaidosas</option>
        <option value="2">2. Alternativas e Diferentonas</option>
        <option value="3">3. Intelectuais e Nerds</option>
        <option value="4">4. Feministas e Ativistas</option>
        <option value="5">5. Boêmias e Artísticas</option>
        <option value="6">6. Esportivas e Fitness</option>
        <option value="7">7. Conectadas à Natureza</option>
        <option value="8">8. Rebeldes e Ousadas</option>
        <option value="9">9. Tradicionais e Ligadas à Família</option>
        <option value="10">10. Delicadas e Fofas</option>
      </select>
    </div>

    <div>
      <label for="secundario">Perfil Secundário (s):</label>
      <select id="secundario" name="secundario">
        <option value="1">1. Populares e Vaidosas</option>
        <option value="2">2. Alternativas e Diferentonas</option>
        <option value="3">3. Intelectuais e Nerds</option>
        <option value="4">4. Feministas e Ativistas</option>
        <option value="5">5. Boêmias e Artísticas</option>
        <option value="6">6. Esportivas e Fitness</option>
        <option value="7">7. Conectadas à Natureza</option>
        <option value="8">8. Rebeldes e Ousadas</option>
        <option value="9">9. Tradicionais e Ligadas à Família</option>
        <option value="10">10. Delicadas e Fofas</option>
      </select>
    </div>

    <div>
      <label for="terciario">Perfil Terciário (t):</label>
      <select id="terciario" name="terciario">
        <option value="1">1. Populares e Vaidosas</option>
        <option value="2">2. Alternativas e Diferentonas</option>
        <option value="3">3. Intelectuais e Nerds</option>
        <option value="4">4. Feministas e Ativistas</option>
        <option value="5">5. Boêmias e Artísticas</option>
        <option value="6">6. Esportivas e Fitness</option>
        <option value="7">7. Conectadas à Natureza</option>
        <option value="8">8. Rebeldes e Ousadas</option>
        <option value="9">9. Tradicionais e Ligadas à Família</option>
        <option value="10">10. Delicadas e Fofas</option>
      </select>
    </div>

    <!-- Campo Feia (select 1 a 8) -->
    <div>
      <label for="feia">Feia (f):</label>
      <select id="feia" name="feia">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
      </select>
    </div>

    <!-- Campo Gorda (Select) -->
    <div>
      <label for="gorda">Gorda (g):</label>
      <select id="gorda" name="gorda">
        <option value="1">1 (12%)</option>
        <option value="2">2 (15%)</option>
        <option value="3">3 (20%)</option>
        <option value="4">4 (25%)</option>
        <option value="5">5 (30%)</option>
        <option value="6">6 (35%)</option>
        <option value="7">7 (40%)</option>
        <option value="8">8 (45%)</option>
      </select>
    </div>

    <!-- Novo Campo Peito (Select 1 a 8) -->
    <div>
      <label for="peito">Peito (pe):</label>
      <select id="peito" name="peito">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
      </select>
    </div>

    <!-- Novo Campo Bunda (Select 0 a 8) -->
    <div>
      <label for="bunda">Bunda (b):</label>
      <select id="bunda" name="bunda">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
      </select>
    </div>

    <!-- Botão de Geração -->
    <button type="button" onclick="gerarAvaliacao()">Gerar Avaliação</button>
  </form>

  <!-- Exibição do resultado -->
  <div id="resultado"></div>

  <!-- Container para o gráfico 2D (Chart.js) -->
  <div id="chartContainer">
    <canvas id="myChart"></canvas>
  </div>

  <script>
    let chartRef = null;

    function gerarAvaliacao() {
      // Pegando os valores
      const primario = document.getElementById('primario').value;
      const secundario = document.getElementById('secundario').value;
      const terciario = document.getElementById('terciario').value;

      const feia = document.getElementById('feia').value;
      const gorda = document.getElementById('gorda').value;
      const peito = document.getElementById('peito').value;
      const bunda = document.getElementById('bunda').value;

      // Monta o resumo: (pX sX tX fX gX peX bX)
      const resumo = `(p${primario} s${secundario} t${terciario} f${feia} g${gorda} pe${peito} b${bunda})`;
      document.getElementById('resultado').innerText = resumo;

      // Gera/Atualiza o gráfico 2D
      gerarGrafico2D(feia, gorda, peito, bunda);
    }

    // Função para gerar/atualizar o gráfico de barras 2D
    function gerarGrafico2D(f, g, p, b) {
      const ctx = document.getElementById('myChart').getContext('2d');

      // Se já existe um gráfico, destrói antes de criar outro
      if (chartRef) {
        chartRef.destroy();
      }

      chartRef = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Feia (f)', 'Gorda (g)', 'Peito (p)', 'Bunda (b)'],
          datasets: [{
            label: 'Valores',
            data: [f, g, p, b],  // Recebe strings, mas Chart.js converte para num se possível
            backgroundColor: [
              'rgba(255, 99, 132, 0.6)',   // Feia
              'rgba(54, 162, 235, 0.6)',   // Gorda
              'rgba(255, 206, 86, 0.6)',   // Peito
              'rgba(75, 192, 192, 0.6)'    // Bunda
            ],
            borderColor: [
              'rgba(255, 99, 132, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(255, 206, 86, 1)',
              'rgba(75, 192, 192, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              // Se quisermos limitar até 8 (pois feia, gorda, peito e bunda vão até 8):
              max: 8
            }
          }
        }
      });
    }
  </script>
</body>
</html>
